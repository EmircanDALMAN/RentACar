{"version":3,"file":"ng2-date-picker.js","sources":["../src/lib/common/types/calendar-mode-enum.ts","../src/lib/common/types/calendar-value-enum.ts","../src/lib/common/types/selection-event.enum.ts","../esm2015/src/lib/common/services/dom-appender/dom-appender.service.ts","../esm2015/src/lib/common/services/utils/utils.service.ts","../../src/lib/day-calendar/day-calendar.service.ts","../../src/lib/time-select/time-select.service.ts","../../src/lib/day-time-calendar/day-time-calendar.service.ts","../../src/lib/date-picker/date-picker.service.ts","../../src/lib/date-picker/date-picker.component.ts","../../src/lib/date-picker/date-picker-directive.service.ts","../../src/lib/date-picker/date-picker.directive.ts","../../src/lib/day-calendar/day-calendar.component.ts","../../src/lib/month-calendar/month-calendar.service.ts","../../src/lib/month-calendar/month-calendar.component.ts","../../src/lib/time-select/time-select.component.ts","../../src/lib/calendar-nav/calendar-nav.component.ts","../../src/lib/day-time-calendar/day-time-calendar.component.ts","../../../src/lib/date-picker.module.ts","../../../src/lib/ng2-date-picker.ts"],"names":["moment"],"mappings":"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","sourcesContent":["export enum ECalendarMode {\n  Day,\n  DayTime,\n  Month,\n  Time\n}\n","export enum ECalendarValue {\n  Moment = 1,\n  MomentArr,\n  String,\n  StringArr\n}\n","export enum SelectEvent {\n  INPUT = 'input',\n  SELECTION = 'selection'\n}\n","import {Injectable} from '@angular/core';\nimport {TDrops, TOpens} from '../../types/poistions.type';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DomHelper {\n\n  private static setYAxisPosition(element: HTMLElement, container: HTMLElement, anchor: HTMLElement, drops: TDrops) {\n    const anchorRect = anchor.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    const bottom = anchorRect.bottom - containerRect.top;\n    const top = anchorRect.top - containerRect.top;\n\n    if (drops === 'down') {\n      element.style.top = (bottom + 1 + 'px');\n    } else {\n      element.style.top = (top - 1 - element.scrollHeight) + 'px';\n    }\n  }\n\n  private static setXAxisPosition(element: HTMLElement, container: HTMLElement, anchor: HTMLElement, dimElem: HTMLElement, opens: TOpens) {\n    const anchorRect = anchor.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    const left = anchorRect.left - containerRect.left;\n\n    if (opens === 'right') {\n      element.style.left = left + 'px';\n    } else {\n      element.style.left = left - dimElem.offsetWidth + anchor.offsetWidth + 'px';\n    }\n  }\n\n  private static isTopInView(el: HTMLElement): boolean {\n    const {top} = el.getBoundingClientRect();\n    return (top >= 0);\n  }\n\n  private static isBottomInView(el: HTMLElement): boolean {\n    const {bottom} = el.getBoundingClientRect();\n    return (bottom <= window.innerHeight);\n  }\n\n  private static isLeftInView(el: HTMLElement): boolean {\n    const {left} = el.getBoundingClientRect();\n    return (left >= 0);\n  }\n\n  private static isRightInView(el: HTMLElement): boolean {\n    const {right} = el.getBoundingClientRect();\n    return (right <= window.innerWidth);\n  }\n\n  appendElementToPosition(config: IAppendToArgs): void {\n    const {container, element} = config;\n\n    if (!container.style.position || container.style.position === 'static') {\n      container.style.position = 'relative';\n    }\n\n    if (element.style.position !== 'absolute') {\n      element.style.position = 'absolute';\n    }\n\n    element.style.visibility = 'hidden';\n\n    setTimeout(() => {\n      this.setElementPosition(config);\n\n      element.style.visibility = 'visible';\n    });\n  }\n\n  setElementPosition({element, container, anchor, dimElem, drops, opens}: IAppendToArgs) {\n    DomHelper.setYAxisPosition(element, container, anchor, 'down');\n    DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'right');\n\n    if (drops !== 'down' && drops !== 'up') {\n      if (DomHelper.isBottomInView(dimElem)) {\n        DomHelper.setYAxisPosition(element, container, anchor, 'down');\n      } else if (DomHelper.isTopInView(dimElem)) {\n        DomHelper.setYAxisPosition(element, container, anchor, 'up');\n      }\n    } else {\n      DomHelper.setYAxisPosition(element, container, anchor, drops);\n    }\n\n    if (opens !== 'left' && opens !== 'right') {\n      if (DomHelper.isRightInView(dimElem)) {\n        DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'right');\n      } else if (DomHelper.isLeftInView(dimElem)) {\n        DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'left');\n      }\n    } else {\n      DomHelper.setXAxisPosition(element, container, anchor, dimElem, opens);\n    }\n  }\n}\n\nexport interface IAppendToArgs {\n  container: HTMLElement;\n  element: HTMLElement;\n  anchor: HTMLElement;\n  dimElem: HTMLElement;\n  drops: TDrops;\n  opens: TOpens;\n}\n","import {ECalendarValue} from '../../types/calendar-value-enum';\nimport {SingleCalendarValue} from '../../types/single-calendar-value';\nimport {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment, unitOfTime} from 'moment';\nimport {CalendarValue} from '../../types/calendar-value';\nimport {IDate} from '../../models/date.model';\nimport {CalendarMode} from '../../types/calendar-mode';\nimport {DateValidator} from '../../types/validator.type';\nimport {ICalendarInternal} from '../../models/calendar.model';\n\nconst moment = momentNs;\n\nexport interface DateLimits {\n  minDate?: SingleCalendarValue;\n  maxDate?: SingleCalendarValue;\n  minTime?: SingleCalendarValue;\n  maxTime?: SingleCalendarValue;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilsService {\n  static debounce(func: Function, wait: number) {\n    let timeout;\n    return function () {\n      const context = this, args = arguments;\n      timeout = clearTimeout(timeout);\n      setTimeout(() => {\n        func.apply(context, args);\n      }, wait);\n    };\n  };\n\n  createArray(size: number): number[] {\n    return new Array(size).fill(1);\n  }\n\n  convertToMoment(date: SingleCalendarValue, format: string): Moment {\n    if (!date) {\n      return null;\n    } else if (typeof date === 'string') {\n      return moment(date, format);\n    } else {\n      return date.clone();\n    }\n  }\n\n  isDateValid(date: string, format: string): boolean {\n    if (date === '') {\n      return true;\n    }\n\n    return moment(date, format, true).isValid();\n  }\n\n  // todo:: add unit test\n  getDefaultDisplayDate(current: Moment,\n                        selected: Moment[],\n                        allowMultiSelect: boolean,\n                        minDate: Moment): Moment {\n    if (current) {\n      return current.clone();\n    } else if (minDate && minDate.isAfter(moment())) {\n      return minDate.clone();\n    } else if (allowMultiSelect) {\n      if (selected && selected[selected.length]) {\n        return selected[selected.length].clone();\n      }\n    } else if (selected && selected[0]) {\n      return selected[0].clone();\n    }\n\n    return moment();\n  }\n\n  // todo:: add unit test\n  getInputType(value: CalendarValue, allowMultiSelect: boolean): ECalendarValue {\n    if (Array.isArray(value)) {\n      if (!value.length) {\n        return ECalendarValue.MomentArr;\n      } else if (typeof value[0] === 'string') {\n        return ECalendarValue.StringArr;\n      } else if (moment.isMoment(value[0])) {\n        return ECalendarValue.MomentArr;\n      }\n    } else {\n      if (typeof value === 'string') {\n        return ECalendarValue.String;\n      } else if (moment.isMoment(value)) {\n        return ECalendarValue.Moment;\n      }\n    }\n\n    return allowMultiSelect ? ECalendarValue.MomentArr : ECalendarValue.Moment;\n  }\n\n  // todo:: add unit test\n  convertToMomentArray(value: CalendarValue,\n                       config: {allowMultiSelect?: boolean, format?: string}): Moment[] {\n    let retVal: Moment[];\n    switch (this.getInputType(value, config.allowMultiSelect)) {\n      case (ECalendarValue.String):\n        retVal = value ? [moment(<string>value, config.format, true)] : [];\n        break;\n      case (ECalendarValue.StringArr):\n        retVal = (<string[]>value).map(v => v ? moment(v, config.format, true) : null).filter(Boolean);\n        break;\n      case (ECalendarValue.Moment):\n        retVal = value ? [(<Moment>value).clone()] : [];\n        break;\n      case (ECalendarValue.MomentArr):\n        retVal = (<Moment[]>value || []).map(v => v.clone());\n        break;\n      default:\n        retVal = [];\n    }\n\n    return retVal;\n  }\n\n  // todo:: add unit test\n  convertFromMomentArray(format: string,\n                         value: Moment[],\n                         convertTo: ECalendarValue): CalendarValue {\n    switch (convertTo) {\n      case (ECalendarValue.String):\n        return value[0] && value[0].format(format);\n      case (ECalendarValue.StringArr):\n        return value.filter(Boolean).map(v => v.format(format));\n      case (ECalendarValue.Moment):\n        return value[0] ? value[0].clone() : value[0];\n      case (ECalendarValue.MomentArr):\n        return value ? value.map(v => v.clone()) : value;\n      default:\n        return value;\n    }\n  }\n\n  convertToString(value: CalendarValue, format: string): string {\n    let tmpVal: string[];\n\n    if (typeof value === 'string') {\n      tmpVal = [value];\n    } else if (Array.isArray(value)) {\n      if (value.length) {\n        tmpVal = (<SingleCalendarValue[]>value).map((v) => {\n          return this.convertToMoment(v, format).format(format);\n        });\n      } else {\n        tmpVal = <string[]>value;\n      }\n    } else if (moment.isMoment(value)) {\n      tmpVal = [value.format(format)];\n    } else {\n      return '';\n    }\n\n    return tmpVal.filter(Boolean).join(' | ');\n  }\n\n  // todo:: add unit test\n  clearUndefined<T>(obj: T): T {\n    if (!obj) {\n      return obj;\n    }\n\n    Object.keys(obj).forEach((key) => (obj[key] === undefined) && delete obj[key]);\n    return obj;\n  }\n\n  updateSelected(isMultiple: boolean,\n                 currentlySelected: Moment[],\n                 date: IDate,\n                 granularity: unitOfTime.Base = 'day'): Moment[] {\n    if (isMultiple) {\n      return !date.selected\n        ? currentlySelected.concat([date.date])\n        : currentlySelected.filter(d => !d.isSame(date.date, granularity));\n    } else {\n      return !date.selected ? [date.date] : [];\n    }\n  }\n\n  closestParent(element: HTMLElement, selector: string): HTMLElement {\n    if (!element) {\n      return undefined;\n    }\n    const match = <HTMLElement>element.querySelector(selector);\n    return match || this.closestParent(element.parentElement, selector);\n  }\n\n  onlyTime(m: Moment): Moment {\n    return m && moment.isMoment(m) && moment(m.format('HH:mm:ss'), 'HH:mm:ss');\n  }\n\n  granularityFromType(calendarType: CalendarMode): unitOfTime.Base {\n    switch (calendarType) {\n      case 'time':\n        return 'second';\n      case 'daytime':\n        return 'second';\n      default:\n        return calendarType;\n    }\n  }\n\n  createValidator({minDate, maxDate, minTime, maxTime}: DateLimits,\n                  format: string,\n                  calendarType: CalendarMode): DateValidator {\n    let isValid: boolean;\n    let value: Moment[];\n    const validators = [];\n    const granularity = this.granularityFromType(calendarType);\n\n    if (minDate) {\n      const md = this.convertToMoment(minDate, format);\n      validators.push({\n        key: 'minDate',\n        isValid: () => {\n          const _isValid = value.every(val => val.isSameOrAfter(md, granularity));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    if (maxDate) {\n      const md = this.convertToMoment(maxDate, format);\n      validators.push({\n        key: 'maxDate',\n        isValid: () => {\n          const _isValid = value.every(val => val.isSameOrBefore(md, granularity));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    if (minTime) {\n      const md = this.onlyTime(this.convertToMoment(minTime, format));\n      validators.push({\n        key: 'minTime',\n        isValid: () => {\n          const _isValid = value.every(val => this.onlyTime(val).isSameOrAfter(md));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    if (maxTime) {\n      const md = this.onlyTime(this.convertToMoment(maxTime, format));\n      validators.push({\n        key: 'maxTime',\n        isValid: () => {\n          const _isValid = value.every(val => this.onlyTime(val).isSameOrBefore(md));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    return (inputVal: CalendarValue) => {\n      isValid = true;\n\n      value = this.convertToMomentArray(inputVal, {\n        format,\n        allowMultiSelect: true\n      }).filter(Boolean);\n\n      if (!value.every(val => val.isValid())) {\n        return {\n          format: {\n            given: inputVal\n          }\n        };\n      }\n\n      const errors = validators.reduce((map, err) => {\n        if (!err.isValid()) {\n          map[err.key] = {\n            given: value\n          };\n        }\n\n        return map;\n      }, {});\n\n      return !isValid ? errors : null;\n    };\n  }\n\n  datesStringToStringArray(value: string): string[] {\n    return (value || '').split('|').map(m => m.trim()).filter(Boolean);\n  }\n\n  getValidMomentArray(value: string, format: string): Moment[] {\n    return this.datesStringToStringArray(value)\n      .filter(d => this.isDateValid(d, format))\n      .map(d => moment(d, format));\n  }\n\n  shouldShowCurrent(showGoToCurrent: boolean,\n                    mode: CalendarMode,\n                    min: Moment,\n                    max: Moment): boolean {\n    return showGoToCurrent &&\n      mode !== 'time' &&\n      this.isDateInRange(moment(), min, max);\n  }\n\n  isDateInRange(date: Moment, from: Moment, to: Moment): boolean {\n    return date.isBetween(from, to, 'day', '[]');\n  }\n\n  convertPropsToMoment(obj: {[key: string]: any}, format: string, props: string[]) {\n    props.forEach((prop) => {\n      if (obj.hasOwnProperty(prop)) {\n        obj[prop] = this.convertToMoment(obj[prop], format);\n      }\n    });\n  }\n\n  shouldResetCurrentView<T extends ICalendarInternal>(prevConf: T, currentConf: T): boolean {\n    if (prevConf && currentConf) {\n      if (!prevConf.min && currentConf.min) {\n        return true;\n      } else if (prevConf.min && currentConf.min && !prevConf.min.isSame(currentConf.min, 'd')) {\n        return true;\n      } else if (!prevConf.max && currentConf.max) {\n        return true;\n      } else if (prevConf.max && currentConf.max && !prevConf.max.isSame(currentConf.max, 'd')) {\n        return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  }\n\n  getNativeElement(elem: HTMLElement | string): HTMLElement {\n    if (!elem) {\n      return null;\n    } else if (typeof elem === 'string') {\n      return <HTMLElement>document.querySelector(elem);\n    } else {\n      return elem;\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {WeekDays} from '../common/types/week-days.type';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDay} from './day.model';\nimport {IDayCalendarConfig, IDayCalendarConfigInternal} from './day-calendar-config.model';\nimport {IMonthCalendarConfig} from '../month-calendar/month-calendar-config';\n\nconst moment = momentNs;\n\n@Injectable()\nexport class DayCalendarService {\n  readonly DEFAULT_CONFIG: IDayCalendarConfig = {\n    showNearMonthDays: true,\n    showWeekNumbers: false,\n    firstDayOfWeek: 'su',\n    weekDayFormat: 'ddd',\n    format: 'DD-MM-YYYY',\n    allowMultiSelect: false,\n    monthFormat: 'MMM, YYYY',\n    enableMonthSelector: true,\n    locale: moment.locale(),\n    dayBtnFormat: 'DD',\n    unSelectOnClick: true\n  };\n  private readonly DAYS = ['su', 'mo', 'tu', 'we', 'th', 'fr', 'sa'];\n\n  constructor(private utilsService: UtilsService) {\n  }\n\n  getConfig(config: IDayCalendarConfig): IDayCalendarConfigInternal {\n    const _config = <IDayCalendarConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  generateDaysMap(firstDayOfWeek: WeekDays) {\n    const firstDayIndex = this.DAYS.indexOf(firstDayOfWeek);\n    const daysArr = this.DAYS.slice(firstDayIndex, 7).concat(this.DAYS.slice(0, firstDayIndex));\n    return daysArr.reduce((map, day, index) => {\n      map[day] = index;\n\n      return map;\n    }, <{[key: string]: number}>{});\n  }\n\n  generateMonthArray(config: IDayCalendarConfigInternal, month: Moment, selected: Moment[]): IDay[][] {\n    let monthArray: IDay[][] = [];\n    const firstDayOfWeekIndex = this.DAYS.indexOf(config.firstDayOfWeek);\n    const firstDayOfBoard = month.clone().startOf('month');\n\n    while (firstDayOfBoard.day() !== firstDayOfWeekIndex) {\n      firstDayOfBoard.subtract(1, 'day');\n    }\n\n    const current = firstDayOfBoard.clone();\n    const prevMonth = month.clone().subtract(1, 'month');\n    const nextMonth = month.clone().add(1, 'month');\n    const today = moment();\n\n    const daysOfCalendar: IDay[] = this.utilsService.createArray(42)\n      .reduce((array: IDay[]) => {\n        array.push({\n          date: current.clone(),\n          selected: !!selected.find(selectedDay => current.isSame(selectedDay, 'day')),\n          currentMonth: current.isSame(month, 'month'),\n          prevMonth: current.isSame(prevMonth, 'month'),\n          nextMonth: current.isSame(nextMonth, 'month'),\n          currentDay: current.isSame(today, 'day'),\n          disabled: this.isDateDisabled(current, config)\n        });\n        current.add(1, 'day');\n\n        return array;\n      }, []);\n\n    daysOfCalendar.forEach((day, index) => {\n      const weekIndex = Math.floor(index / 7);\n\n      if (!monthArray[weekIndex]) {\n        monthArray.push([]);\n      }\n\n      monthArray[weekIndex].push(day);\n    });\n\n    if (!config.showNearMonthDays) {\n      monthArray = this.removeNearMonthWeeks(month, monthArray);\n    }\n\n    return monthArray;\n  }\n\n  generateWeekdays(firstDayOfWeek: WeekDays): Moment[] {\n    const weekdayNames: {[key: string]: Moment} = {\n      su: moment().day(0),\n      mo: moment().day(1),\n      tu: moment().day(2),\n      we: moment().day(3),\n      th: moment().day(4),\n      fr: moment().day(5),\n      sa: moment().day(6)\n    };\n    const weekdays: Moment[] = [];\n    const daysMap = this.generateDaysMap(firstDayOfWeek);\n\n    for (const dayKey in daysMap) {\n      if (daysMap.hasOwnProperty(dayKey)) {\n        weekdays[daysMap[dayKey]] = weekdayNames[dayKey];\n      }\n    }\n\n    return weekdays;\n  }\n\n  isDateDisabled(date: Moment, config: IDayCalendarConfigInternal): boolean {\n    if (config.isDayDisabledCallback) {\n      return config.isDayDisabledCallback(date);\n    }\n\n    if (config.min && date.isBefore(config.min, 'day')) {\n      return true;\n    }\n\n    return !!(config.max && date.isAfter(config.max, 'day'));\n  }\n\n  // todo:: add unit tests\n  getHeaderLabel(config: IDayCalendarConfigInternal, month: Moment): string {\n    if (config.monthFormatter) {\n      return config.monthFormatter(month);\n    }\n\n    return month.format(config.monthFormat);\n  }\n\n  // todo:: add unit tests\n  shouldShowLeft(min: Moment, currentMonthView: Moment): boolean {\n    return min ? min.isBefore(currentMonthView, 'month') : true;\n  }\n\n  // todo:: add unit tests\n  shouldShowRight(max: Moment, currentMonthView: Moment): boolean {\n    return max ? max.isAfter(currentMonthView, 'month') : true;\n  }\n\n  generateDaysIndexMap(firstDayOfWeek: WeekDays) {\n    const firstDayIndex = this.DAYS.indexOf(firstDayOfWeek);\n    const daysArr = this.DAYS.slice(firstDayIndex, 7).concat(this.DAYS.slice(0, firstDayIndex));\n    return daysArr.reduce((map, day, index) => {\n      map[index] = day;\n\n      return map;\n    }, <{[key: number]: string}>{});\n  }\n\n  getMonthCalendarConfig(componentConfig: IDayCalendarConfigInternal): IMonthCalendarConfig {\n    return this.utilsService.clearUndefined({\n      min: componentConfig.min,\n      max: componentConfig.max,\n      format: componentConfig.format,\n      isNavHeaderBtnClickable: true,\n      allowMultiSelect: false,\n      locale: componentConfig.locale,\n      yearFormat: componentConfig.yearFormat,\n      yearFormatter: componentConfig.yearFormatter,\n      monthBtnFormat: componentConfig.monthBtnFormat,\n      monthBtnFormatter: componentConfig.monthBtnFormatter,\n      monthBtnCssClassCallback: componentConfig.monthBtnCssClassCallback,\n      isMonthDisabledCallback: componentConfig.isMonthDisabledCallback,\n      multipleYearsNavigateBy: componentConfig.multipleYearsNavigateBy,\n      showMultipleYearsNavigation: componentConfig.showMultipleYearsNavigation,\n      showGoToCurrent: componentConfig.showGoToCurrent,\n      numOfMonthRows: componentConfig.numOfMonthRows\n    });\n  }\n\n  getDayBtnText(config: IDayCalendarConfigInternal, day: Moment): string {\n    if (config.dayBtnFormatter) {\n      return config.dayBtnFormatter(day);\n    }\n\n    return day.format(config.dayBtnFormat);\n  }\n\n  getDayBtnCssClass(config: IDayCalendarConfigInternal, day: Moment): string {\n    if (config.dayBtnCssClassCallback) {\n      return config.dayBtnCssClassCallback(day);\n    }\n\n    return '';\n  }\n\n  private removeNearMonthWeeks(currentMonth: Moment, monthArray: IDay[][]): IDay[][] {\n    if (monthArray[monthArray.length - 1].find((day) => day.date.isSame(currentMonth, 'month'))) {\n      return monthArray;\n    } else {\n      return monthArray.slice(0, -1);\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {ITimeSelectConfig, ITimeSelectConfigInternal} from './time-select-config.model';\n\nconst moment = momentNs;\n\nexport type TimeUnit = 'hour' | 'minute' | 'second';\nexport const FIRST_PM_HOUR = 12;\n\n@Injectable()\nexport class TimeSelectService {\n  readonly DEFAULT_CONFIG: ITimeSelectConfigInternal = {\n    hours12Format: 'hh',\n    hours24Format: 'HH',\n    meridiemFormat: 'A',\n    minutesFormat: 'mm',\n    minutesInterval: 1,\n    secondsFormat: 'ss',\n    secondsInterval: 1,\n    showSeconds: false,\n    showTwentyFourHours: false,\n    timeSeparator: ':',\n    locale: moment.locale()\n  };\n\n  constructor(private readonly utilsService: UtilsService) {\n  }\n\n  getConfig(config: ITimeSelectConfig): ITimeSelectConfigInternal {\n    const timeConfigs = {\n      maxTime: this.utilsService.onlyTime(config && config.maxTime),\n      minTime: this.utilsService.onlyTime(config && config.minTime)\n    };\n\n    const _config = <ITimeSelectConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config),\n      ...timeConfigs\n    };\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  getTimeFormat(config: ITimeSelectConfigInternal): string {\n    return (config.showTwentyFourHours ? config.hours24Format : config.hours12Format)\n      + config.timeSeparator + config.minutesFormat\n      + (config.showSeconds ? (config.timeSeparator + config.secondsFormat) : '')\n      + (config.showTwentyFourHours ? '' : ' ' + config.meridiemFormat);\n  }\n\n  getHours(config: ITimeSelectConfigInternal, t: Moment | null): string {\n    const time = t || moment();\n    return time && time.format(config.showTwentyFourHours ? config.hours24Format : config.hours12Format);\n  }\n\n  getMinutes(config: ITimeSelectConfigInternal, t: Moment | null): string {\n    const time = t || moment();\n    return time && time.format(config.minutesFormat);\n  }\n\n  getSeconds(config: ITimeSelectConfigInternal, t: Moment | null): string {\n    const time = t || moment();\n    return time && time.format(config.secondsFormat);\n  }\n\n  getMeridiem(config: ITimeSelectConfigInternal, time: Moment): string {\n    return time && time.format(config.meridiemFormat);\n  }\n\n  decrease(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): Moment {\n    let amount: number = 1;\n    switch (unit) {\n      case 'minute':\n        amount = config.minutesInterval;\n        break;\n      case 'second':\n        amount = config.secondsInterval;\n        break;\n    }\n    return time.clone().subtract(amount, unit);\n  }\n\n  increase(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): Moment {\n    let amount: number = 1;\n    switch (unit) {\n      case 'minute':\n        amount = config.minutesInterval;\n        break;\n      case 'second':\n        amount = config.secondsInterval;\n        break;\n    }\n    return time.clone().add(amount, unit);\n  }\n\n  toggleMeridiem(time: Moment): Moment {\n    if (time.hours() < FIRST_PM_HOUR) {\n      return time.clone().add(12, 'hour');\n    } else {\n      return time.clone().subtract(12, 'hour');\n    }\n  }\n\n  shouldShowDecrease(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): boolean {\n    if (!config.min && !config.minTime) {\n      return true;\n    }\n    const newTime = this.decrease(config, time, unit);\n\n    return (!config.min || config.min.isSameOrBefore(newTime))\n      && (!config.minTime || config.minTime.isSameOrBefore(this.utilsService.onlyTime(newTime)));\n  }\n\n  shouldShowIncrease(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): boolean {\n    if (!config.max && !config.maxTime) {\n      return true;\n    }\n    const newTime = this.increase(config, time, unit);\n\n    return (!config.max || config.max.isSameOrAfter(newTime))\n      && (!config.maxTime || config.maxTime.isSameOrAfter(this.utilsService.onlyTime(newTime)));\n  }\n\n  shouldShowToggleMeridiem(config: ITimeSelectConfigInternal, time: Moment): boolean {\n    if (!config.min && !config.max && !config.minTime && !config.maxTime) {\n      return true;\n    }\n    const newTime = this.toggleMeridiem(time);\n    return (!config.max || config.max.isSameOrAfter(newTime))\n      && (!config.min || config.min.isSameOrBefore(newTime))\n      && (!config.maxTime || config.maxTime.isSameOrAfter(this.utilsService.onlyTime(newTime)))\n      && (!config.minTime || config.minTime.isSameOrBefore(this.utilsService.onlyTime(newTime)));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\n\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {DayCalendarService} from '../day-calendar/day-calendar.service';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {IDayTimeCalendarConfig} from './day-time-calendar-config.model';\n\nconst moment = momentNs;\n\nconst DAY_FORMAT = 'YYYYMMDD';\nconst TIME_FORMAT = 'HH:mm:ss';\nconst COMBINED_FORMAT = DAY_FORMAT + TIME_FORMAT;\n\n@Injectable()\nexport class DayTimeCalendarService {\n  readonly DEFAULT_CONFIG: IDayTimeCalendarConfig = {\n    locale: moment.locale()\n  };\n\n  constructor(private utilsService: UtilsService,\n              private dayCalendarService: DayCalendarService,\n              private timeSelectService: TimeSelectService) {\n  }\n\n  getConfig(config: IDayTimeCalendarConfig): IDayTimeCalendarConfig {\n    const _config = {\n      ...this.DEFAULT_CONFIG,\n      ...this.timeSelectService.getConfig(config),\n      ...this.dayCalendarService.getConfig(config)\n    };\n\n    moment.locale(config.locale);\n\n    return _config;\n  }\n\n  updateDay(current: Moment, day: Moment, config: IDayTimeCalendarConfig): Moment {\n    const time = current ? current : moment();\n    let updated = moment(day.format(DAY_FORMAT) + time.format(TIME_FORMAT), COMBINED_FORMAT);\n\n    if (config.min) {\n      const min = <Moment>config.min;\n      updated = min.isAfter(updated) ? min : updated;\n    }\n\n    if (config.max) {\n      const max = <Moment>config.max;\n      updated = max.isBefore(updated) ? max : updated;\n    }\n\n    return updated;\n  }\n\n  updateTime(current: Moment, time: Moment): Moment {\n    const day = current ? current : moment();\n\n    return moment(day.format(DAY_FORMAT) + time.format(TIME_FORMAT), COMBINED_FORMAT);\n  }\n}\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {IDatePickerConfig, IDatePickerConfigInternal} from './date-picker-config.model';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDayCalendarConfig} from '../day-calendar/day-calendar-config.model';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {DayTimeCalendarService} from '../day-time-calendar/day-time-calendar.service';\nimport {ITimeSelectConfig} from '../time-select/time-select-config.model';\nimport {CalendarMode} from '../common/types/calendar-mode';\n\nconst moment = momentNs;\n\n@Injectable()\nexport class DatePickerService {\n  readonly onPickerClosed: EventEmitter<null> = new EventEmitter();\n  private defaultConfig: IDatePickerConfigInternal = {\n    closeOnSelect: true,\n    closeOnSelectDelay: 100,\n    closeOnEnter: true,\n    format: 'DD-MM-YYYY',\n    openOnFocus: true,\n    openOnClick: true,\n    onOpenDelay: 0,\n    disableKeypress: false,\n    showNearMonthDays: true,\n    showWeekNumbers: false,\n    enableMonthSelector: true,\n    showGoToCurrent: true,\n    locale: moment.locale(),\n    hideOnOutsideClick: true\n  };\n\n  constructor(private utilsService: UtilsService,\n              private timeSelectService: TimeSelectService,\n              private daytimeCalendarService: DayTimeCalendarService) {\n  }\n\n  // todo:: add unit tests\n  getConfig(config: IDatePickerConfig, mode: CalendarMode = 'daytime'): IDatePickerConfigInternal {\n    const _config = <IDatePickerConfigInternal>{\n      ...this.defaultConfig,\n      format: this.getDefaultFormatByMode(mode),\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n\n    if (config && config.allowMultiSelect && config.closeOnSelect === undefined) {\n      _config.closeOnSelect = false;\n    }\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  getDayConfigService(pickerConfig: IDatePickerConfig): IDayCalendarConfig {\n    return {\n      min: pickerConfig.min,\n      max: pickerConfig.max,\n      isDayDisabledCallback: pickerConfig.isDayDisabledCallback,\n      weekDayFormat: pickerConfig.weekDayFormat,\n      weekDayFormatter: pickerConfig.weekDayFormatter,\n      showNearMonthDays: pickerConfig.showNearMonthDays,\n      showWeekNumbers: pickerConfig.showWeekNumbers,\n      firstDayOfWeek: pickerConfig.firstDayOfWeek,\n      format: pickerConfig.format,\n      allowMultiSelect: pickerConfig.allowMultiSelect,\n      monthFormat: pickerConfig.monthFormat,\n      monthFormatter: pickerConfig.monthFormatter,\n      enableMonthSelector: pickerConfig.enableMonthSelector,\n      yearFormat: pickerConfig.yearFormat,\n      yearFormatter: pickerConfig.yearFormatter,\n      dayBtnFormat: pickerConfig.dayBtnFormat,\n      dayBtnFormatter: pickerConfig.dayBtnFormatter,\n      dayBtnCssClassCallback: pickerConfig.dayBtnCssClassCallback,\n      monthBtnFormat: pickerConfig.monthBtnFormat,\n      monthBtnFormatter: pickerConfig.monthBtnFormatter,\n      monthBtnCssClassCallback: pickerConfig.monthBtnCssClassCallback,\n      isMonthDisabledCallback: pickerConfig.isMonthDisabledCallback,\n      multipleYearsNavigateBy: pickerConfig.multipleYearsNavigateBy,\n      showMultipleYearsNavigation: pickerConfig.showMultipleYearsNavigation,\n      locale: pickerConfig.locale,\n      returnedValueType: pickerConfig.returnedValueType,\n      showGoToCurrent: pickerConfig.showGoToCurrent,\n      unSelectOnClick: pickerConfig.unSelectOnClick,\n      numOfMonthRows: pickerConfig.numOfMonthRows\n    };\n  }\n\n  getDayTimeConfigService(pickerConfig: IDatePickerConfig): ITimeSelectConfig {\n    return this.daytimeCalendarService.getConfig(pickerConfig);\n  }\n\n  getTimeConfigService(pickerConfig: IDatePickerConfig): ITimeSelectConfig {\n    return this.timeSelectService.getConfig(pickerConfig);\n  }\n\n  pickerClosed() {\n    this.onPickerClosed.emit();\n  }\n\n  // todo:: add unit tests\n  isValidInputDateValue(value: string, config: IDatePickerConfig): boolean {\n    value = value ? value : '';\n    const datesStrArr: string[] = this.utilsService.datesStringToStringArray(value);\n\n    return datesStrArr.every(date => this.utilsService.isDateValid(date, config.format));\n  }\n\n  // todo:: add unit tests\n  convertInputValueToMomentArray(value: string, config: IDatePickerConfig): Moment[] {\n    value = value ? value : '';\n    const datesStrArr: string[] = this.utilsService.datesStringToStringArray(value);\n\n    return this.utilsService.convertToMomentArray(datesStrArr, config);\n  }\n\n  private getDefaultFormatByMode(mode: CalendarMode): string {\n    switch (mode) {\n      case 'day':\n        return 'DD-MM-YYYY';\n      case 'daytime':\n        return 'DD-MM-YYYY HH:mm:ss';\n      case 'time':\n        return 'HH:mm:ss';\n      case 'month':\n        return 'MMM, YYYY';\n    }\n  }\n}\n","import {IDate} from '../common/models/date.model';\nimport {DomHelper} from '../common/services/dom-appender/dom-appender.service';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {CalendarMode} from '../common/types/calendar-mode';\nimport {ECalendarMode} from '../common/types/calendar-mode-enum';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {IDayCalendarConfig} from '../day-calendar/day-calendar-config.model';\nimport {DayCalendarComponent} from '../day-calendar/day-calendar.component';\nimport {DayCalendarService} from '../day-calendar/day-calendar.service';\nimport {IDayTimeCalendarConfig} from '../day-time-calendar/day-time-calendar-config.model';\nimport {DayTimeCalendarService} from '../day-time-calendar/day-time-calendar.service';\nimport {ITimeSelectConfig} from '../time-select/time-select-config.model';\nimport {TimeSelectComponent} from '../time-select/time-select.component';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {IDatePickerConfig, IDatePickerConfigInternal} from './date-picker-config.model';\nimport {IDpDayPickerApi} from './date-picker.api';\nimport {DatePickerService} from './date-picker.service';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {Moment, unitOfTime} from 'moment';\nimport {DateValidator} from '../common/types/validator.type';\nimport {MonthCalendarComponent} from '../month-calendar/month-calendar.component';\nimport {DayTimeCalendarComponent} from '../day-time-calendar/day-time-calendar.component';\nimport {INavEvent} from '../common/models/navigation-event.model';\nimport {SelectEvent} from '../common/types/selection-event.enum';\nimport {ISelectionEvent} from '../common/types/selection-event.model';\n\n@Component({\n  selector: 'dp-date-picker',\n  templateUrl: 'date-picker.component.html',\n  styleUrls: ['date-picker.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    DatePickerService,\n    DayTimeCalendarService,\n    DayCalendarService,\n    TimeSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatePickerComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DatePickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class DatePickerComponent implements OnChanges,\n                                            OnInit,\n                                            AfterViewInit,\n                                            ControlValueAccessor,\n                                            Validator,\n                                            OnDestroy {\n\n  isInitialized: boolean = false;\n  @Input() config: IDatePickerConfig;\n  @Input() mode: CalendarMode = 'day';\n  @Input() placeholder: string = '';\n  @Input() disabled: boolean = false;\n  @Input() displayDate: SingleCalendarValue;\n  @HostBinding('class') @Input() theme: string;\n  @Input() minDate: SingleCalendarValue;\n  @Input() maxDate: SingleCalendarValue;\n  @Input() minTime: SingleCalendarValue;\n  @Input() maxTime: SingleCalendarValue;\n  @Output() open = new EventEmitter<void>();\n  @Output() close = new EventEmitter<void>();\n  @Output() onChange = new EventEmitter<CalendarValue>();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onSelect: EventEmitter<ISelectionEvent> = new EventEmitter();\n  @ViewChild('container') calendarContainer: ElementRef;\n  @ViewChild('dayCalendar') dayCalendarRef: DayCalendarComponent;\n  @ViewChild('monthCalendar') monthCalendarRef: MonthCalendarComponent;\n  @ViewChild('daytimeCalendar') dayTimeCalendarRef: DayTimeCalendarComponent;\n  @ViewChild('timeSelect') timeSelectRef: TimeSelectComponent;\n  componentConfig: IDatePickerConfigInternal;\n  dayCalendarConfig: IDayCalendarConfig;\n  dayTimeCalendarConfig: IDayTimeCalendarConfig;\n  timeSelectConfig: ITimeSelectConfig;\n  hideStateHelper: boolean = false;\n  inputValue: CalendarValue;\n  isFocusedTrigger: boolean = false;\n  inputElementValue: string;\n  calendarWrapper: HTMLElement;\n  appendToElement: HTMLElement;\n  inputElementContainer: HTMLElement;\n  popupElem: HTMLElement;\n  handleInnerElementClickUnlisteners: Function[] = [];\n  globalListenersUnlisteners: Function[] = [];\n  validateFn: DateValidator;\n  api: IDpDayPickerApi = {\n    open: this.showCalendars.bind(this),\n    close: this.hideCalendar.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n  selectEvent = SelectEvent;\n  private onOpenDelayTimeoutHandler;\n\n  constructor(private readonly dayPickerService: DatePickerService,\n              private readonly domHelper: DomHelper,\n              private readonly elemRef: ElementRef,\n              private readonly renderer: Renderer2,\n              private readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  get openOnFocus(): boolean {\n    return this.componentConfig.openOnFocus;\n  }\n\n  get openOnClick(): boolean {\n    return this.componentConfig.openOnClick;\n  }\n\n  _areCalendarsShown: boolean = false;\n\n  get areCalendarsShown(): boolean {\n    return this._areCalendarsShown;\n  }\n\n  set areCalendarsShown(value: boolean) {\n    if (value) {\n      this.startGlobalListeners();\n      this.domHelper.appendElementToPosition({\n        container: this.appendToElement,\n        element: this.calendarWrapper,\n        anchor: this.inputElementContainer,\n        dimElem: this.popupElem,\n        drops: this.componentConfig.drops,\n        opens: this.componentConfig.opens\n      });\n    } else {\n      this.stopGlobalListeners();\n      this.dayPickerService.pickerClosed();\n    }\n\n    this._areCalendarsShown = value;\n  }\n\n  _selected: Moment[] = [];\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.inputElementValue = (<string[]>this.utilsService\n      .convertFromMomentArray(this.componentConfig.format, selected, ECalendarValue.StringArr))\n      .join(' | ');\n    const val = this.processOnChangeCallback(selected);\n    this.onChangeCallback(val, false);\n    this.onChange.emit(val);\n  }\n\n  _currentDateView: Moment;\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  set currentDateView(date: Moment) {\n    this._currentDateView = date;\n\n    if (this.dayCalendarRef) {\n      this.dayCalendarRef.moveCalendarTo(date);\n    }\n\n    if (this.monthCalendarRef) {\n      this.monthCalendarRef.moveCalendarTo(date);\n    }\n\n    if (this.dayTimeCalendarRef) {\n      this.dayTimeCalendarRef.moveCalendarTo(date);\n    }\n  }\n\n  @HostListener('click')\n  onClick() {\n    if (!this.openOnClick) {\n      return;\n    }\n\n    if (!this.isFocusedTrigger && !this.disabled) {\n      this.hideStateHelper = true;\n      if (!this.areCalendarsShown) {\n        this.showCalendars();\n      }\n    }\n  }\n\n  onBodyClick() {\n    if (this.componentConfig.hideOnOutsideClick) {\n      if (!this.hideStateHelper && this.areCalendarsShown) {\n        this.hideCalendar();\n      }\n\n      this.hideStateHelper = false;\n    }\n  }\n\n  @HostListener('window:resize')\n  onScroll() {\n    if (this.areCalendarsShown) {\n      this.domHelper.setElementPosition({\n        container: this.appendToElement,\n        element: this.calendarWrapper,\n        anchor: this.inputElementContainer,\n        dimElem: this.popupElem,\n        drops: this.componentConfig.drops,\n        opens: this.componentConfig.opens\n      });\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value || value === '') {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig);\n      this.init();\n    } else {\n      this.selected = [];\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any, changedByInput: boolean) {\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouchedCallback = fn;\n  }\n\n  onTouchedCallback() {\n  }\n\n  validate(formControl: FormControl): ValidationErrors {\n    return this.validateFn(formControl.value);\n  }\n\n  processOnChangeCallback(selected: Moment[] | string): CalendarValue {\n    if (typeof selected === 'string') {\n      return selected;\n    } else {\n      return this.utilsService.convertFromMomentArray(\n        this.componentConfig.format,\n        selected,\n        this.componentConfig.returnedValueType || this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect)\n      );\n    }\n  }\n\n  initValidators(): void {\n    this.validateFn = this.utilsService.createValidator(\n      {\n        minDate: this.minDate,\n        maxDate: this.maxDate,\n        minTime: this.minTime,\n        maxTime: this.maxTime\n      }, this.componentConfig.format, this.mode);\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected), false);\n  }\n\n  ngOnInit(): void {\n    this.isInitialized = true;\n    this.init();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.isInitialized) {\n      this.init();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.setElementPositionInDom();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this.cd.markForCheck();\n  }\n\n  setElementPositionInDom(): void {\n    this.calendarWrapper = <HTMLElement>this.calendarContainer.nativeElement;\n    this.setInputElementContainer();\n    this.popupElem = this.elemRef.nativeElement.querySelector('.dp-popup');\n    this.handleInnerElementClick(this.popupElem);\n\n    const {appendTo} = this.componentConfig;\n    if (appendTo) {\n      if (typeof appendTo === 'string') {\n        this.appendToElement = <HTMLElement>document.querySelector(<string>appendTo);\n      } else {\n        this.appendToElement = <HTMLElement>appendTo;\n      }\n    } else {\n      this.appendToElement = this.elemRef.nativeElement;\n    }\n\n    this.appendToElement.appendChild(this.calendarWrapper);\n  }\n\n  setInputElementContainer() {\n    this.inputElementContainer = this.utilsService.getNativeElement(this.componentConfig.inputElementContainer)\n      || this.elemRef.nativeElement.querySelector('.dp-input-container')\n      || document.body;\n  }\n\n  handleInnerElementClick(element: HTMLElement) {\n    this.handleInnerElementClickUnlisteners.push(\n      this.renderer.listen(element, 'click', () => {\n        this.hideStateHelper = true;\n      })\n    );\n  }\n\n  init() {\n    this.componentConfig = this.dayPickerService.getConfig(this.config, this.mode);\n    this.currentDateView = this.displayDate\n      ? this.utilsService.convertToMoment(this.displayDate, this.componentConfig.format).clone()\n      : this.utilsService\n        .getDefaultDisplayDate(\n          this.currentDateView,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        );\n    this.dayCalendarConfig = this.dayPickerService.getDayConfigService(this.componentConfig);\n    this.dayTimeCalendarConfig = this.dayPickerService.getDayTimeConfigService(this.componentConfig);\n    this.timeSelectConfig = this.dayPickerService.getTimeConfigService(this.componentConfig);\n    this.initValidators();\n  }\n\n  inputFocused() {\n    if (!this.openOnFocus) {\n      return;\n    }\n\n    clearTimeout(this.onOpenDelayTimeoutHandler);\n    this.isFocusedTrigger = true;\n    this.onOpenDelayTimeoutHandler = setTimeout(() => {\n      if (!this.areCalendarsShown) {\n        this.showCalendars();\n      }\n\n      this.hideStateHelper = false;\n\n      this.isFocusedTrigger = false;\n      this.cd.markForCheck();\n    }, this.componentConfig.onOpenDelay);\n  }\n\n  inputBlurred() {\n    clearTimeout(this.onOpenDelayTimeoutHandler);\n    this.onTouchedCallback();\n  }\n\n  showCalendars() {\n    this.hideStateHelper = true;\n    this.areCalendarsShown = true;\n\n    if (this.timeSelectRef) {\n      this.timeSelectRef.api.triggerChange();\n    }\n\n    this.open.emit();\n    this.cd.markForCheck();\n  }\n\n  hideCalendar() {\n    this.areCalendarsShown = false;\n\n    if (this.dayCalendarRef) {\n      this.dayCalendarRef.api.toggleCalendarMode(ECalendarMode.Day);\n    }\n\n    this.close.emit();\n    this.cd.markForCheck();\n  }\n\n  onViewDateChange(value: CalendarValue) {\n    const strVal = value ? this.utilsService.convertToString(value, this.componentConfig.format) : '';\n    if (this.dayPickerService.isValidInputDateValue(strVal, this.componentConfig)) {\n      this.selected = this.dayPickerService.convertInputValueToMomentArray(strVal, this.componentConfig);\n      this.currentDateView = this.selected.length\n        ? this.utilsService.getDefaultDisplayDate(\n          null,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        )\n        : this.currentDateView;\n\n      this.onSelect.emit({\n        date: strVal,\n        type: SelectEvent.INPUT,\n        granularity: null\n      })\n    } else {\n      this._selected = this.utilsService\n        .getValidMomentArray(strVal, this.componentConfig.format);\n      this.onChangeCallback(this.processOnChangeCallback(strVal), true);\n    }\n  }\n\n  dateSelected(date: IDate, granularity: unitOfTime.Base, type: SelectEvent, ignoreClose?: boolean) {\n    this.selected = this.utilsService\n      .updateSelected(this.componentConfig.allowMultiSelect, this.selected, date, granularity);\n    if (!ignoreClose) {\n      this.onDateClick();\n    }\n\n    this.onSelect.emit({\n      date: date.date,\n      granularity,\n      type\n    });\n  }\n\n  onDateClick() {\n    if (this.componentConfig.closeOnSelect) {\n      setTimeout(this.hideCalendar.bind(this), this.componentConfig.closeOnSelectDelay);\n    }\n  }\n\n  onKeyPress(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case (9):\n      case (27):\n        this.hideCalendar();\n        break;\n    }\n  }\n\n  moveCalendarTo(date: SingleCalendarValue) {\n    const momentDate = this.utilsService.convertToMoment(date, this.componentConfig.format);\n    this.currentDateView = momentDate;\n  }\n\n  onLeftNavClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  onRightNavClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n\n  startGlobalListeners() {\n    this.globalListenersUnlisteners.push(\n      this.renderer.listen(document, 'keydown', (e: KeyboardEvent) => {\n        this.onKeyPress(e);\n      }),\n      this.renderer.listen(document, 'scroll', () => {\n        this.onScroll();\n      }),\n      this.renderer.listen(document, 'click', () => {\n        this.onBodyClick();\n      })\n    );\n  }\n\n  stopGlobalListeners() {\n    this.globalListenersUnlisteners.forEach((ul) => ul());\n    this.globalListenersUnlisteners = [];\n  }\n\n  ngOnDestroy() {\n    this.handleInnerElementClickUnlisteners.forEach(ul => ul());\n\n    if (this.appendToElement) {\n      this.appendToElement.removeChild(this.calendarWrapper);\n    }\n  }\n}\n","import {UtilsService} from '../common/services/utils/utils.service';\nimport {IDatePickerDirectiveConfig} from './date-picker-directive-config.model';\nimport {ElementRef, Injectable} from '@angular/core';\n\n@Injectable()\nexport class DatePickerDirectiveService {\n  constructor(public utilsService: UtilsService) {\n  }\n\n  convertToHTMLElement(attachTo: ElementRef | string, baseElement: HTMLElement): HTMLElement {\n    if (typeof attachTo === 'string') {\n      return this.utilsService.closestParent(baseElement, attachTo);\n    } else if (attachTo) {\n      return attachTo.nativeElement;\n    }\n\n    return undefined;\n  }\n\n  getConfig(config: IDatePickerDirectiveConfig = {},\n            baseElement?: ElementRef,\n            attachTo?: ElementRef | string): IDatePickerDirectiveConfig {\n    const _config: IDatePickerDirectiveConfig = {...config};\n    _config.hideInputContainer = true;\n\n    let native;\n\n    if (config.inputElementContainer) {\n      native = this.utilsService.getNativeElement(config.inputElementContainer);\n    } else {\n      native = baseElement ? baseElement.nativeElement : null;\n    }\n\n    if (native) {\n      _config.inputElementContainer = attachTo\n        ? this.convertToHTMLElement(attachTo, native)\n        : native;\n    }\n\n    return _config;\n  }\n}\n","import {CalendarMode} from '../common/types/calendar-mode';\nimport {IDatePickerDirectiveConfig} from './date-picker-directive-config.model';\nimport {DatePickerDirectiveService} from './date-picker-directive.service';\nimport {IDpDayPickerApi} from './date-picker.api';\nimport {DatePickerComponent} from './date-picker.component';\nimport {\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnInit,\n  Optional,\n  Output,\n  ViewContainerRef\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {CalendarValue, ISelectionEvent, SingleCalendarValue} from '..';\nimport {INavEvent} from '../common/models/navigation-event.model';\nimport {UtilsService} from '../common/services/utils/utils.service'\n\n@Directive({\n  exportAs: 'dpDayPicker',\n  providers: [DatePickerDirectiveService],\n  selector: '[dpDayPicker]'\n})\nexport class DatePickerDirective implements OnInit {\n\n  @Output() open = new EventEmitter<void>();\n  @Output() close = new EventEmitter<void>();\n  @Output() onChange = new EventEmitter<CalendarValue>();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onSelect: EventEmitter<ISelectionEvent> = new EventEmitter();\n  datePicker: DatePickerComponent;\n  api: IDpDayPickerApi;\n\n  constructor(public viewContainerRef: ViewContainerRef,\n              public elemRef: ElementRef,\n              public componentFactoryResolver: ComponentFactoryResolver,\n              public service: DatePickerDirectiveService,\n              @Optional() public formControl: NgControl,\n              public utilsService: UtilsService) {\n  }\n\n  private _config: IDatePickerDirectiveConfig;\n\n  get config(): IDatePickerDirectiveConfig {\n    return this._config;\n  }\n\n  @Input('dpDayPicker') set config(config: IDatePickerDirectiveConfig) {\n    this._config = this.service.getConfig(config, this.viewContainerRef.element, this.attachTo);\n    this.updateDatepickerConfig();\n    this.markForCheck();\n  }\n\n  private _attachTo: ElementRef | string;\n\n  get attachTo(): ElementRef | string {\n    return this._attachTo;\n  }\n\n  @Input() set attachTo(attachTo: ElementRef | string) {\n    this._attachTo = attachTo;\n    this._config = this.service.getConfig(this.config, this.viewContainerRef.element, this.attachTo);\n    this.updateDatepickerConfig();\n    this.markForCheck();\n  }\n\n  private _theme: string;\n\n  get theme(): string {\n    return this._theme;\n  }\n\n  @Input() set theme(theme: string) {\n    this._theme = theme;\n    if (this.datePicker) {\n      this.datePicker.theme = theme;\n    }\n\n    this.markForCheck();\n  }\n\n  private _mode: CalendarMode = 'day';\n\n  get mode(): CalendarMode {\n    return this._mode;\n  }\n\n  @Input() set mode(mode: CalendarMode) {\n    this._mode = mode;\n    if (this.datePicker) {\n      this.datePicker.mode = mode;\n    }\n\n    this.markForCheck();\n  }\n\n  private _minDate: SingleCalendarValue;\n\n  get minDate(): SingleCalendarValue {\n    return this._minDate;\n  }\n\n  @Input() set minDate(minDate: SingleCalendarValue) {\n    this._minDate = minDate;\n    if (this.datePicker) {\n      this.datePicker.minDate = minDate;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  private _maxDate: SingleCalendarValue;\n\n  get maxDate(): SingleCalendarValue {\n    return this._maxDate;\n  }\n\n  @Input() set maxDate(maxDate: SingleCalendarValue) {\n    this._maxDate = maxDate;\n    if (this.datePicker) {\n      this.datePicker.maxDate = maxDate;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  private _minTime: SingleCalendarValue;\n\n  get minTime(): SingleCalendarValue {\n    return this._minTime;\n  }\n\n  @Input() set minTime(minTime: SingleCalendarValue) {\n    this._minTime = minTime;\n    if (this.datePicker) {\n      this.datePicker.minTime = minTime;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  private _maxTime: SingleCalendarValue;\n\n  get maxTime(): SingleCalendarValue {\n    return this._maxTime;\n  }\n\n  @Input() set maxTime(maxTime: SingleCalendarValue) {\n    this._maxTime = maxTime;\n    if (this.datePicker) {\n      this.datePicker.maxTime = maxTime;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  private _displayDate: SingleCalendarValue;\n\n  get displayDate(): SingleCalendarValue {\n    return this._displayDate;\n  }\n\n  @Input() set displayDate(displayDate: SingleCalendarValue) {\n    this._displayDate = displayDate;\n    this.updateDatepickerConfig();\n\n    this.markForCheck();\n  }\n\n  ngOnInit(): void {\n    this.datePicker = this.createDatePicker();\n    this.api = this.datePicker.api;\n    this.updateDatepickerConfig();\n    this.attachModelToDatePicker();\n    this.datePicker.theme = this.theme;\n  }\n\n  createDatePicker(): DatePickerComponent {\n    const factory = this.componentFactoryResolver.resolveComponentFactory(DatePickerComponent);\n    return this.viewContainerRef.createComponent(factory).instance;\n  }\n\n  attachModelToDatePicker() {\n    if (!this.formControl) {\n      return;\n    }\n\n    this.datePicker.onViewDateChange(this.formControl.value);\n\n    this.formControl.valueChanges.subscribe((value) => {\n      if (value !== this.datePicker.inputElementValue) {\n        const strVal = this.utilsService.convertToString(value, this.datePicker.componentConfig.format);\n        this.datePicker.onViewDateChange(strVal);\n      }\n    });\n\n    let setup = true;\n\n    this.datePicker.registerOnChange((value, changedByInput) => {\n      if (value) {\n        const isMultiselectEmpty = setup && Array.isArray(value) && !value.length;\n\n        if (!isMultiselectEmpty && !changedByInput) {\n          this.formControl.control.setValue(this.datePicker.inputElementValue);\n        }\n      }\n\n      const errors = this.datePicker.validateFn(value);\n\n      if (!setup) {\n        this.formControl.control.markAsDirty({\n          onlySelf: true\n        });\n      } else {\n        setup = false;\n      }\n\n      if (errors) {\n        if (errors.hasOwnProperty('format')) {\n          const {given} = errors['format'];\n          this.datePicker.inputElementValue = given;\n          if (!changedByInput) {\n            this.formControl.control.setValue(given);\n          }\n        }\n\n        this.formControl.control.setErrors(errors);\n      }\n    });\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.datePicker.onClick();\n  }\n\n  @HostListener('focus')\n  onFocus() {\n    this.datePicker.inputFocused();\n  }\n\n  @HostListener('keydown.enter')\n  onEnter() {\n    if (this.datePicker.componentConfig.closeOnEnter) {\n      this.datePicker.hideCalendar();\n    }\n  }\n\n  markForCheck() {\n    if (this.datePicker) {\n      this.datePicker.cd.markForCheck();\n    }\n  }\n\n  private updateDatepickerConfig() {\n    if (this.datePicker) {\n      this.datePicker.minDate = this.minDate;\n      this.datePicker.maxDate = this.maxDate;\n      this.datePicker.minTime = this.minTime;\n      this.datePicker.maxTime = this.maxTime;\n      this.datePicker.mode = this.mode || 'day';\n      this.datePicker.displayDate = this.displayDate;\n      this.datePicker.config = this.config;\n      this.datePicker.open = this.open;\n      this.datePicker.close = this.close;\n      this.datePicker.onChange = this.onChange;\n      this.datePicker.onGoToCurrent = this.onGoToCurrent;\n      this.datePicker.onLeftNav = this.onLeftNav;\n      this.datePicker.onRightNav = this.onRightNav;\n      this.datePicker.onSelect = this.onSelect;\n\n      this.datePicker.init();\n\n      if (this.datePicker.componentConfig.disableKeypress) {\n        this.elemRef.nativeElement.setAttribute('readonly', true);\n      } else {\n        this.elemRef.nativeElement.removeAttribute('readonly');\n      }\n    }\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {ECalendarMode} from '../common/types/calendar-mode-enum';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {DayCalendarService} from './day-calendar.service';\nimport * as momentNs from 'moment';\nimport {Moment, unitOfTime} from 'moment';\nimport {IDayCalendarConfig, IDayCalendarConfigInternal} from './day-calendar-config.model';\nimport {IDay} from './day.model';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IMonthCalendarConfig} from '../month-calendar/month-calendar-config';\nimport {IMonth} from '../month-calendar/month.model';\nimport {DateValidator} from '../common/types/validator.type';\nimport {INavEvent} from '../common/models/navigation-event.model';\n\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-day-calendar',\n  templateUrl: 'day-calendar.component.html',\n  styleUrls: ['day-calendar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    DayCalendarService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DayCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DayCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class DayCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: IDayCalendarConfig;\n  @Input() displayDate: SingleCalendarValue;\n  @Input() minDate: Moment;\n  @Input() maxDate: Moment;\n  @HostBinding('class') @Input() theme: string;\n  @Output() onSelect: EventEmitter<IDay> = new EventEmitter();\n  @Output() onMonthSelect: EventEmitter<IMonth> = new EventEmitter();\n  @Output() onNavHeaderBtnClick: EventEmitter<ECalendarMode> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  CalendarMode = ECalendarMode;\n  isInited: boolean = false;\n  componentConfig: IDayCalendarConfigInternal;\n  weeks: IDay[][];\n  weekdays: Moment[];\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  currentCalendarMode: ECalendarMode = ECalendarMode.Day;\n  monthCalendarConfig: IMonthCalendarConfig;\n  _shouldShowCurrent: boolean = true;\n  navLabel: string;\n  showLeftNav: boolean;\n  showRightNav: boolean;\n  api = {\n    moveCalendarsBy: this.moveCalendarsBy.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this),\n    toggleCalendarMode: this.toggleCalendarMode.bind(this)\n  };\n\n  constructor(public readonly dayCalendarService: DayCalendarService,\n              public readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  _selected: Moment[];\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  _currentDateView: Moment;\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  set currentDateView(current: Moment) {\n    this._currentDateView = current.clone();\n    this.weeks = this.dayCalendarService\n      .generateMonthArray(this.componentConfig, this._currentDateView, this.selected);\n    this.navLabel = this.dayCalendarService.getHeaderLabel(this.componentConfig, this._currentDateView);\n    this.showLeftNav = this.dayCalendarService.shouldShowLeft(this.componentConfig.min, this.currentDateView);\n    this.showRightNav = this.dayCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);\n  }\n  ;\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  init() {\n    this.componentConfig = this.dayCalendarService.getConfig(this.config);\n    this.selected = this.selected || [];\n    this.currentDateView = this.displayDate\n      ? this.utilsService.convertToMoment(this.displayDate, this.componentConfig.format).clone()\n      : this.utilsService\n        .getDefaultDisplayDate(\n          this.currentDateView,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        );\n    this.weekdays = this.dayCalendarService\n      .generateWeekdays(this.componentConfig.firstDayOfWeek);\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    this.monthCalendarConfig = this.dayCalendarService.getMonthCalendarConfig(this.componentConfig);\n    this._shouldShowCurrent = this.shouldShowCurrent();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate, config} = changes;\n\n      this.handleConfigChange(config);\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig);\n      this.inputValueType = this.utilsService\n        .getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    } else {\n      this.selected = [];\n    }\n\n    this.weeks = this.dayCalendarService\n      .generateMonthArray(this.componentConfig, this.currentDateView, this.selected);\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment[]): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      value,\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.utilsService.createValidator(\n      {minDate: this.minDate, maxDate: this.maxDate},\n      this.componentConfig.format,\n      'day'\n    );\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  dayClicked(day: IDay) {\n    if (day.selected && !this.componentConfig.unSelectOnClick) {\n      return;\n    }\n\n    this.selected = this.utilsService\n      .updateSelected(this.componentConfig.allowMultiSelect, this.selected, day);\n    this.weeks = this.dayCalendarService\n      .generateMonthArray(this.componentConfig, this.currentDateView, this.selected);\n    this.onSelect.emit(day);\n  }\n\n  getDayBtnText(day: IDay): string {\n    return this.dayCalendarService.getDayBtnText(this.componentConfig, day.date);\n  }\n\n  getDayBtnCssClass(day: IDay): {[klass: string]: boolean} {\n    const cssClasses: {[klass: string]: boolean} = {\n      'dp-selected': day.selected,\n      'dp-current-month': day.currentMonth,\n      'dp-prev-month': day.prevMonth,\n      'dp-next-month': day.nextMonth,\n      'dp-current-day': day.currentDay\n    };\n    const customCssClass: string = this.dayCalendarService.getDayBtnCssClass(this.componentConfig, day.date);\n    if (customCssClass) {\n      cssClasses[customCssClass] = true;\n    }\n\n    return cssClasses;\n  }\n\n  onLeftNavClick() {\n    const from = this.currentDateView.clone();\n    this.moveCalendarsBy(this.currentDateView, -1, 'month');\n    const to = this.currentDateView.clone();\n    this.onLeftNav.emit({from, to});\n  }\n\n  onRightNavClick() {\n    const from = this.currentDateView.clone();\n    this.moveCalendarsBy(this.currentDateView, 1, 'month');\n    const to = this.currentDateView.clone();\n    this.onRightNav.emit({from, to});\n  }\n\n  onMonthCalendarLeftClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  onMonthCalendarRightClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n\n  onMonthCalendarSecondaryLeftClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n\n  onMonthCalendarSecondaryRightClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  getWeekdayName(weekday: Moment): string {\n    if (this.componentConfig.weekDayFormatter) {\n      return this.componentConfig.weekDayFormatter(weekday.day());\n    }\n\n    return weekday.format(this.componentConfig.weekDayFormat);\n  }\n\n  toggleCalendarMode(mode: ECalendarMode) {\n    if (this.currentCalendarMode !== mode) {\n      this.currentCalendarMode = mode;\n      this.onNavHeaderBtnClick.emit(mode);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  monthSelected(month: IMonth) {\n    this.currentDateView = month.date.clone();\n    this.currentCalendarMode = ECalendarMode.Day;\n    this.onMonthSelect.emit(month);\n  }\n\n  moveCalendarsBy(current: Moment, amount: number, granularity: unitOfTime.Base = 'month') {\n    this.currentDateView = current.clone().add(amount, granularity);\n    this.cd.markForCheck();\n  }\n\n  moveCalendarTo(to: SingleCalendarValue) {\n    if (to) {\n      this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  shouldShowCurrent(): boolean {\n    return this.utilsService.shouldShowCurrent(\n      this.componentConfig.showGoToCurrent,\n      'day',\n      this.componentConfig.min,\n      this.componentConfig.max\n    );\n  }\n\n  goToCurrent() {\n    this.currentDateView = moment();\n    this.onGoToCurrent.emit();\n  }\n\n  handleConfigChange(config: SimpleChange) {\n    if (config) {\n      const prevConf: IDayCalendarConfigInternal = this.dayCalendarService.getConfig(config.previousValue);\n      const currentConf: IDayCalendarConfigInternal = this.dayCalendarService.getConfig(config.currentValue);\n\n      if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {\n        this._currentDateView = null;\n      }\n\n      if (prevConf.locale !== currentConf.locale) {\n        if (this.currentDateView) {\n          this.currentDateView.locale(currentConf.locale);\n        }\n\n        this.selected.forEach(m => m.locale(currentConf.locale));\n      }\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IMonth} from './month.model';\nimport {IMonthCalendarConfig, IMonthCalendarConfigInternal} from './month-calendar-config';\n\nconst moment = momentNs;\n\n@Injectable()\nexport class MonthCalendarService {\n  readonly DEFAULT_CONFIG: IMonthCalendarConfigInternal = {\n    allowMultiSelect: false,\n    yearFormat: 'YYYY',\n    format: 'MM-YYYY',\n    isNavHeaderBtnClickable: false,\n    monthBtnFormat: 'MMM',\n    locale: moment.locale(),\n    multipleYearsNavigateBy: 10,\n    showMultipleYearsNavigation: false,\n    unSelectOnClick: true,\n    numOfMonthRows: 3\n  };\n\n  constructor(private utilsService: UtilsService) {\n  }\n\n  getConfig(config: IMonthCalendarConfig): IMonthCalendarConfigInternal {\n    const _config = <IMonthCalendarConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.validateConfig(_config);\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  generateYear(config: IMonthCalendarConfig, year: Moment, selected: Moment[] = null): IMonth[][] {\n    const index = year.clone().startOf('year');\n\n    return this.utilsService.createArray(config.numOfMonthRows).map(() => {\n      return this.utilsService.createArray(12 / config.numOfMonthRows).map(() => {\n        const date = index.clone();\n        const month = {\n          date,\n          selected: !!selected.find(s => index.isSame(s, 'month')),\n          currentMonth: index.isSame(moment(), 'month'),\n          disabled: this.isMonthDisabled(date, config),\n          text: this.getMonthBtnText(config, date)\n        };\n\n        index.add(1, 'month');\n\n        return month;\n      });\n    });\n  }\n\n  isMonthDisabled(date: Moment, config: IMonthCalendarConfig) {\n    if (config.isMonthDisabledCallback) {\n      return config.isMonthDisabledCallback(date);\n    }\n\n    if (config.min && date.isBefore(config.min, 'month')) {\n      return true;\n    }\n\n    return !!(config.max && date.isAfter(config.max, 'month'));\n  }\n\n  shouldShowLeft(min: Moment, currentMonthView: Moment): boolean {\n    return min ? min.isBefore(currentMonthView, 'year') : true;\n  }\n\n  shouldShowRight(max: Moment, currentMonthView: Moment): boolean {\n    return max ? max.isAfter(currentMonthView, 'year') : true;\n  }\n\n  getHeaderLabel(config: IMonthCalendarConfig, year: Moment): string {\n    if (config.yearFormatter) {\n      return config.yearFormatter(year);\n    }\n\n    return year.format(config.yearFormat);\n  }\n\n  getMonthBtnText(config: IMonthCalendarConfig, month: Moment): string {\n    if (config.monthBtnFormatter) {\n      return config.monthBtnFormatter(month);\n    }\n\n    return month.format(config.monthBtnFormat);\n  }\n\n  getMonthBtnCssClass(config: IMonthCalendarConfig, month: Moment): string {\n    if (config.monthBtnCssClassCallback) {\n      return config.monthBtnCssClassCallback(month);\n    }\n\n    return '';\n  }\n\n  private validateConfig(config: IMonthCalendarConfigInternal): void {\n    if (config.numOfMonthRows < 1 || config.numOfMonthRows > 12 || !Number.isInteger(12 / config.numOfMonthRows)) {\n      throw new Error('numOfMonthRows has to be between 1 - 12 and divide 12 to integer');\n    }\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {IMonth} from './month.model';\nimport {MonthCalendarService} from './month-calendar.service';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {IMonthCalendarConfig, IMonthCalendarConfigInternal} from './month-calendar-config';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {DateValidator} from '../common/types/validator.type';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {INavEvent} from '../common/models/navigation-event.model';\n\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-month-calendar',\n  templateUrl: 'month-calendar.component.html',\n  styleUrls: ['month-calendar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    MonthCalendarService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => MonthCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => MonthCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class MonthCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: IMonthCalendarConfig;\n  @Input() displayDate: Moment;\n  @Input() minDate: Moment;\n  @Input() maxDate: Moment;\n  @HostBinding('class') @Input() theme: string;\n  @Output() onSelect: EventEmitter<IMonth> = new EventEmitter();\n  @Output() onNavHeaderBtnClick: EventEmitter<null> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onLeftSecondaryNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightSecondaryNav: EventEmitter<INavEvent> = new EventEmitter();\n  isInited: boolean = false;\n  componentConfig: IMonthCalendarConfigInternal;\n  yearMonths: IMonth[][];\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  _shouldShowCurrent: boolean = true;\n  navLabel: string;\n  showLeftNav: boolean;\n  showRightNav: boolean;\n  showSecondaryLeftNav: boolean;\n  showSecondaryRightNav: boolean;\n  api = {\n    toggleCalendar: this.toggleCalendarMode.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n\n  constructor(public readonly monthCalendarService: MonthCalendarService,\n              public readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  _selected: Moment[];\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  _currentDateView: Moment;\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  set currentDateView(current: Moment) {\n    this._currentDateView = current.clone();\n    this.yearMonths = this.monthCalendarService\n      .generateYear(this.componentConfig, this._currentDateView, this.selected);\n    this.navLabel = this.monthCalendarService.getHeaderLabel(this.componentConfig, this.currentDateView);\n    this.showLeftNav = this.monthCalendarService.shouldShowLeft(this.componentConfig.min, this._currentDateView);\n    this.showRightNav = this.monthCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);\n    this.showSecondaryLeftNav = this.componentConfig.showMultipleYearsNavigation && this.showLeftNav;\n    this.showSecondaryRightNav = this.componentConfig.showMultipleYearsNavigation && this.showRightNav;\n  }\n\n  ngOnInit(): void {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.isInited) {\n      const {minDate, maxDate, config} = changes;\n\n      this.handleConfigChange(config);\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  init(): void {\n    this.componentConfig = this.monthCalendarService.getConfig(this.config);\n    this.selected = this.selected || [];\n    this.currentDateView = this.displayDate\n      ? this.displayDate\n      : this.utilsService\n        .getDefaultDisplayDate(\n          this.currentDateView,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        );\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    this._shouldShowCurrent = this.shouldShowCurrent();\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig);\n      this.yearMonths = this.monthCalendarService\n        .generateYear(this.componentConfig, this.currentDateView, this.selected);\n      this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    } else {\n      this.selected = [];\n      this.yearMonths = this.monthCalendarService\n        .generateYear(this.componentConfig, this.currentDateView, this.selected);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any): void {\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment[]): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      value,\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators(): void {\n    this.validateFn = this.validateFn = this.utilsService.createValidator(\n      {minDate: this.minDate, maxDate: this.maxDate},\n      this.componentConfig.format,\n      'month'\n    );\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  monthClicked(month: IMonth): void {\n    if (month.selected && !this.componentConfig.unSelectOnClick) {\n      return;\n    }\n\n    this.selected = this.utilsService\n      .updateSelected(this.componentConfig.allowMultiSelect, this.selected, month, 'month');\n    this.yearMonths = this.monthCalendarService\n      .generateYear(this.componentConfig, this.currentDateView, this.selected);\n    this.onSelect.emit(month);\n  }\n\n  onLeftNavClick() {\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().subtract(1, 'year');\n    const to = this.currentDateView.clone();\n    this.yearMonths = this.monthCalendarService.generateYear(this.componentConfig, this.currentDateView, this.selected);\n    this.onLeftNav.emit({from, to});\n  }\n\n  onLeftSecondaryNavClick(): void {\n    let navigateBy = this.componentConfig.multipleYearsNavigateBy;\n    const isOutsideRange = this.componentConfig.min &&\n      this.currentDateView.year() - this.componentConfig.min.year() < navigateBy;\n\n    if (isOutsideRange) {\n      navigateBy = this.currentDateView.year() - this.componentConfig.min.year();\n    }\n\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().subtract(navigateBy, 'year');\n    const to = this.currentDateView.clone();\n    this.onLeftSecondaryNav.emit({from, to});\n  }\n\n  onRightNavClick(): void {\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().add(1, 'year');\n    const to = this.currentDateView.clone();\n    this.onRightNav.emit({from, to});\n  }\n\n  onRightSecondaryNavClick(): void {\n    let navigateBy = this.componentConfig.multipleYearsNavigateBy;\n    const isOutsideRange = this.componentConfig.max &&\n      this.componentConfig.max.year() - this.currentDateView.year() < navigateBy;\n\n    if (isOutsideRange) {\n      navigateBy = this.componentConfig.max.year() - this.currentDateView.year();\n    }\n\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().add(navigateBy, 'year');\n    const to = this.currentDateView.clone();\n    this.onRightSecondaryNav.emit({from, to});\n  }\n\n  toggleCalendarMode(): void {\n    this.onNavHeaderBtnClick.emit();\n  }\n\n  getMonthBtnCssClass(month: IMonth): {[klass: string]: boolean} {\n    const cssClass: {[klass: string]: boolean} = {\n      'dp-selected': month.selected,\n      'dp-current-month': month.currentMonth\n    };\n    const customCssClass: string = this.monthCalendarService.getMonthBtnCssClass(this.componentConfig, month.date);\n\n    if (customCssClass) {\n      cssClass[customCssClass] = true;\n    }\n\n    return cssClass;\n  }\n\n  shouldShowCurrent(): boolean {\n    return this.utilsService.shouldShowCurrent(\n      this.componentConfig.showGoToCurrent,\n      'month',\n      this.componentConfig.min,\n      this.componentConfig.max\n    );\n  }\n\n  goToCurrent(): void {\n    this.currentDateView = moment();\n    this.onGoToCurrent.emit();\n  }\n\n  moveCalendarTo(to: SingleCalendarValue): void {\n    if (to) {\n      this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);\n      this.cd.markForCheck();\n    }\n  }\n\n  handleConfigChange(config: SimpleChange): void {\n    if (config) {\n      const prevConf: IMonthCalendarConfigInternal = this.monthCalendarService.getConfig(config.previousValue);\n      const currentConf: IMonthCalendarConfigInternal = this.monthCalendarService.getConfig(config.currentValue);\n\n      if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {\n        this._currentDateView = null;\n      }\n\n      if (prevConf.locale !== currentConf.locale) {\n        if (this.currentDateView) {\n          this.currentDateView.locale(currentConf.locale)\n        }\n\n        (this.selected || []).forEach((m) => m.locale(currentConf.locale));\n      }\n    }\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {TimeSelectService, TimeUnit} from './time-select.service';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {ITimeSelectConfig, ITimeSelectConfigInternal} from './time-select-config.model';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDate} from '../common/models/date.model';\nimport {DateValidator} from '../common/types/validator.type';\nimport {IDayCalendarConfigInternal} from '../day-calendar/day-calendar-config.model';\n\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-time-select',\n  templateUrl: 'time-select.component.html',\n  styleUrls: ['time-select.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    TimeSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TimeSelectComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => TimeSelectComponent),\n      multi: true\n    }\n  ]\n})\nexport class TimeSelectComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: ITimeSelectConfig;\n  @Input() displayDate: SingleCalendarValue;\n  @Input() minDate: SingleCalendarValue;\n  @Input() maxDate: SingleCalendarValue;\n  @Input() minTime: SingleCalendarValue;\n  @Input() maxTime: SingleCalendarValue;\n  @HostBinding('class') @Input() theme: string;\n  @Output() onChange: EventEmitter<IDate> = new EventEmitter();\n  isInited: boolean = false;\n  componentConfig: ITimeSelectConfigInternal;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  hours: string;\n  minutes: string;\n  seconds: string;\n  meridiem: string;\n  showDecHour: boolean;\n  showDecMinute: boolean;\n  showDecSecond: boolean;\n  showIncHour: boolean;\n  showIncMinute: boolean;\n  showIncSecond: boolean;\n  showToggleMeridiem: boolean;\n  api = {\n    triggerChange: this.emitChange.bind(this)\n  };\n\n  constructor(public timeSelectService: TimeSelectService,\n              public utilsService: UtilsService,\n              public cd: ChangeDetectorRef) {\n  }\n\n  _selected: Moment;\n\n  get selected(): Moment {\n    return this._selected;\n  }\n\n  set selected(selected: Moment) {\n    this._selected = selected;\n    this.calculateTimeParts(this.selected);\n\n    this.showDecHour = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'hour');\n    this.showDecMinute = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'minute');\n    this.showDecSecond = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'second');\n\n    this.showIncHour = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'hour');\n    this.showIncMinute = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'minute');\n    this.showIncSecond = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'second');\n\n    this.showToggleMeridiem = this.timeSelectService.shouldShowToggleMeridiem(this.componentConfig, this._selected);\n\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  init() {\n    this.componentConfig = this.timeSelectService.getConfig(this.config);\n    this.selected = this.selected || moment();\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, false);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate, minTime, maxTime} = changes;\n      this.init();\n\n      if (minDate || maxDate || minTime || maxTime) {\n        this.initValidators();\n      }\n\n      this.handleConfigChange(changes.config);\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      const momentValue = this.utilsService\n        .convertToMomentArray(value, {\n          allowMultiSelect: false,\n          format: this.timeSelectService.getTimeFormat(this.componentConfig)\n        })[0];\n      if (momentValue.isValid()) {\n        this.selected = momentValue;\n        this.inputValueType = this.utilsService\n          .getInputType(this.inputValue, false);\n      }\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate || this.minTime || this.maxTime) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.timeSelectService.getTimeFormat(this.componentConfig),\n      [value],\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.utilsService.createValidator(\n      {\n        minDate: this.minDate,\n        maxDate: this.maxDate,\n        minTime: this.minTime,\n        maxTime: this.maxTime\n      }, undefined, 'day');\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  decrease(unit: TimeUnit) {\n    this.selected = this.timeSelectService.decrease(this.componentConfig, this.selected, unit);\n    this.emitChange();\n  }\n\n  increase(unit: TimeUnit) {\n    this.selected = this.timeSelectService.increase(this.componentConfig, this.selected, unit);\n    this.emitChange();\n  }\n\n  toggleMeridiem() {\n    this.selected = this.timeSelectService.toggleMeridiem(this.selected);\n    this.emitChange();\n  }\n\n  emitChange() {\n    this.onChange.emit({date: this.selected, selected: false});\n    this.cd.markForCheck();\n  }\n\n  calculateTimeParts(time: Moment) {\n    this.hours = this.timeSelectService.getHours(this.componentConfig, time);\n    this.minutes = this.timeSelectService.getMinutes(this.componentConfig, time);\n    this.seconds = this.timeSelectService.getSeconds(this.componentConfig, time);\n    this.meridiem = this.timeSelectService.getMeridiem(this.componentConfig, time);\n  }\n\n  private handleConfigChange(config: SimpleChange) {\n    if (config) {\n      const prevConf: IDayCalendarConfigInternal = this.timeSelectService.getConfig(config.previousValue);\n      const currentConf: IDayCalendarConfigInternal = this.timeSelectService.getConfig(config.currentValue);\n\n      if (prevConf.locale !== currentConf.locale) {\n        this.selected = this.selected.clone().locale(currentConf.locale);\n      }\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\n\n@Component({\n  selector: 'dp-calendar-nav',\n  templateUrl: './calendar-nav.component.html',\n  styleUrls: ['./calendar-nav.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CalendarNavComponent {\n  @Input() label: string;\n  @Input() isLabelClickable: boolean = false;\n  @Input() showLeftNav: boolean = true;\n  @Input() showLeftSecondaryNav: boolean = false;\n  @Input() showRightNav: boolean = true;\n  @Input() showRightSecondaryNav: boolean = false;\n  @Input() leftNavDisabled: boolean = false;\n  @Input() leftSecondaryNavDisabled: boolean = false;\n  @Input() rightNavDisabled: boolean = false;\n  @Input() rightSecondaryNavDisabled: boolean = false;\n  @Input() showGoToCurrent: boolean = true;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onLeftNav: EventEmitter<null> = new EventEmitter();\n  @Output() onLeftSecondaryNav: EventEmitter<null> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<null> = new EventEmitter();\n  @Output() onRightSecondaryNav: EventEmitter<null> = new EventEmitter();\n  @Output() onLabelClick: EventEmitter<null> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<null> = new EventEmitter();\n\n  leftNavClicked() {\n    this.onLeftNav.emit();\n  }\n\n  leftSecondaryNavClicked() {\n    this.onLeftSecondaryNav.emit();\n  }\n\n  rightNavClicked() {\n    this.onRightNav.emit();\n  }\n\n  rightSecondaryNavClicked() {\n    this.onRightSecondaryNav.emit();\n  }\n\n  labelClicked() {\n    this.onLabelClick.emit();\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {Moment} from 'moment';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDate} from '../common/models/date.model';\nimport {DayCalendarService} from '../day-calendar/day-calendar.service';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {IDayTimeCalendarConfig} from './day-time-calendar-config.model';\nimport {DayTimeCalendarService} from './day-time-calendar.service';\nimport {DateValidator} from '../common/types/validator.type';\nimport {DayCalendarComponent} from '../day-calendar/day-calendar.component';\nimport {INavEvent} from '../common/models/navigation-event.model';\n\n@Component({\n  selector: 'dp-day-time-calendar',\n  templateUrl: 'day-time-calendar.component.html',\n  styleUrls: ['day-time-calendar.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    DayTimeCalendarService,\n    DayCalendarService,\n    TimeSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DayTimeCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DayTimeCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class DayTimeCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: IDayTimeCalendarConfig;\n  @Input() displayDate: SingleCalendarValue;\n  @Input() minDate: SingleCalendarValue;\n  @Input() maxDate: SingleCalendarValue;\n  @HostBinding('class') @Input() theme: string;\n  @Output() onChange: EventEmitter<IDate> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @ViewChild('dayCalendar') dayCalendarRef: DayCalendarComponent;\n  isInited: boolean = false;\n  componentConfig: IDayTimeCalendarConfig;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  api = {\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n\n  constructor(public dayTimeCalendarService: DayTimeCalendarService,\n              public utilsService: UtilsService,\n              public cd: ChangeDetectorRef) {\n  }\n\n  _selected: Moment;\n\n  get selected(): Moment {\n    return this._selected;\n  }\n\n  set selected(selected: Moment) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n  ;\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  init() {\n    this.componentConfig = this.dayTimeCalendarService.getConfig(this.config);\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, false);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate} = changes;\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, {\n          format: this.componentConfig.format,\n          allowMultiSelect: false\n        })[0];\n      this.inputValueType = this.utilsService\n        .getInputType(this.inputValue, false);\n    } else {\n      this.selected = null;\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      [value],\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.utilsService.createValidator(\n      {\n        minDate: this.minDate,\n        maxDate: this.maxDate\n      }, undefined, 'daytime');\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  dateSelected(day: IDate) {\n    this.selected = this.dayTimeCalendarService.updateDay(this.selected, day.date, this.config);\n    this.emitChange();\n  }\n\n  timeChange(time: IDate) {\n    this.selected = this.dayTimeCalendarService.updateTime(this.selected, time.date);\n    this.emitChange();\n  }\n\n  emitChange() {\n    this.onChange.emit({date: this.selected, selected: false});\n  }\n\n  moveCalendarTo(to: SingleCalendarValue) {\n    if (to) {\n      this.dayCalendarRef.moveCalendarTo(to);\n    }\n  }\n\n  onLeftNavClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  onRightNavClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport {DatePickerComponent} from './date-picker/date-picker.component';\nimport {DatePickerDirective} from './date-picker/date-picker.directive';\nimport {DayCalendarComponent} from './day-calendar/day-calendar.component';\nimport {MonthCalendarComponent} from './month-calendar/month-calendar.component';\nimport {TimeSelectComponent} from './time-select/time-select.component';\nimport {CalendarNavComponent} from './calendar-nav/calendar-nav.component';\nimport {DayTimeCalendarComponent} from './day-time-calendar/day-time-calendar.component';\n\nexport {DatePickerComponent} from './date-picker/date-picker.component';\nexport {DatePickerDirective} from './date-picker/date-picker.directive';\nexport {DayCalendarComponent} from './day-calendar/day-calendar.component';\nexport {DayTimeCalendarComponent} from './day-time-calendar/day-time-calendar.component';\nexport {TimeSelectComponent} from './time-select/time-select.component';\nexport {MonthCalendarComponent} from './month-calendar/month-calendar.component';\n\n@NgModule({\n  declarations: [\n    DatePickerComponent,\n    DatePickerDirective,\n    DayCalendarComponent,\n    MonthCalendarComponent,\n    CalendarNavComponent,\n    TimeSelectComponent,\n    DayTimeCalendarComponent\n  ],\n  entryComponents: [\n    DatePickerComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  exports: [\n    DatePickerComponent,\n    DatePickerDirective,\n    MonthCalendarComponent,\n    DayCalendarComponent,\n    TimeSelectComponent,\n    DayTimeCalendarComponent\n  ]\n})\nexport class DpDatePickerModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CalendarNavComponent as ɵi} from './calendar-nav/calendar-nav.component';\nexport {DomHelper as ɵf} from './common/services/dom-appender/dom-appender.service';\nexport {UtilsService as ɵb} from './common/services/utils/utils.service';\nexport {DatePickerDirectiveService as ɵg} from './date-picker/date-picker-directive.service';\nexport {DatePickerService as ɵa} from './date-picker/date-picker.service';\nexport {DayCalendarService as ɵe} from './day-calendar/day-calendar.service';\nexport {DayTimeCalendarService as ɵd} from './day-time-calendar/day-time-calendar.service';\nexport {MonthCalendarService as ɵh} from './month-calendar/month-calendar.service';\nexport {TimeSelectService as ɵc} from './time-select/time-select.service';"]}